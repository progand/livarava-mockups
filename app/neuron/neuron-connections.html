<div ng-controller="NeuronConnectionsCtrl">
    <form class="form-inline m-b-md">
        <div class="form-group" ng-show="filters().length">
            <label>Show:</label>

            <div class="btn-group ">
                <button type="button" class="btn btn-secondary dropdown-toggle form-control text-capitalize"
                        data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                    <span ng-if="filter">{{filter}}</span>
                    <span ng-if="!filter">All</span>
                </button>
                <div class="dropdown-menu">
                    <button class="dropdown-item " ng-click="setFilter(null)" ng-show="!!filter">All</button>
                    <button class="dropdown-item text-capitalize" ng-click="setFilter(filtersItem)"
                            ng-repeat="filtersItem in filters()" ng-show="filter!==filtersItem">{{filtersItem}}
                    </button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="btn-group">
                <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-plus"></i> Add
                </button>
                <div class="dropdown-menu">
                    <button class="dropdown-item" ng-click="showNewNeuronForm('text')">Text / Link</button>
                    <button class="dropdown-item disabled">Upload image</button>

                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item disabled">Post</button>
                    <button class="dropdown-item disabled">Project</button>
                </div>
            </div>
        </div>
    </form>

    <div class="card m-b-lg" ng-show="newNeuronForm">
        <div class="card-block">
            <button type="button" class="close" aria-label="Close" ng-click="showNewNeuronForm(null)">
                <span aria-hidden="true">&times;</span>
            </button>
            <form ng-show="newNeuronForm==='text'" ng-submit="addNewNeuron()">
                <h4 class="card-title">New neuron</h4>

                <fieldset class="form-group">
                    <label>Write or paste text or url</label>
                    <input type="text" class="form-control" placeholder="Enter some text" ng-model="newNeuronText"
                           ng-change="onNewNeuronTextChange()"
                           required>
                    <small class="text-muted">If you want to add image or video from web - just paste link here
                    </small>
                </fieldset>

                <div class="media m-b" ng-if="newNeuron">
                    <div class="media-left">
                        <img class="media-object" ng-src="{{newNeuron.image}}" width="64" alt="{{newNeuron.header}}"/>
                    </div>

                    <div class="media-body">
                        <h4 class="media-heading">{{newNeuron.header}}</h4>
                        <ul class="list-inline">
                            <li><span class="text-muted">Added:</span> {{newNeuron.created | date:'mediumDate'}}</li>
                        </ul>

                    </div>
                </div>

                <button class="btn btn-primary" type="submit">Add</button>
            </form>

        </div>
    </div>


    <div class="media" ng-repeat="neuron in filteredNeurons()">
        <div class="media-left">
            <img class="media-object" ng-src="{{neuron.image}}" alt="{{neuron.header}}" width="64">
        </div>

        <div class="media-body">
            <h4 class="media-heading">{{neuron.header}}</h4>
            <ul class="list-inline pull-left">
                <li><span class="text-muted">Added:</span> {{neuron.created | date:'mediumDate'}}</li>
            </ul>
            <div class="btn-group dropup pull-right">
                <button class="btn btn-info-outline btn-sm dropdown-toggle" type="button" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                    Actions
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                    <!-- Dropdown menu links -->
                    <button class="dropdown-item btn-sm " ng-click="deleteFromNeurons(neuron)">Delete</button>
                </div>
            </div>
        </div>
    </div>
</div>